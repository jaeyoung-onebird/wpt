(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{5905:function(e,t,s){Promise.resolve().then(s.bind(s,1369))},1369:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var i=s(7437),a=s(2265),n=s(6013),l=s(495),r=s(3102),c=s(4693),d=s(4817),o=s(2940);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,s(3480).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var u=s(518),x=s(7592),f=s(6264);function h(){let[e,t]=(0,a.useState)([]),[s,h]=(0,a.useState)(0),[j,p]=(0,a.useState)(1),[N,v]=(0,a.useState)(""),[g,b]=(0,a.useState)("all"),[y,k]=(0,a.useState)(!0),z=async()=>{k(!0);try{let e={page:j,size:20};N&&(e.search=N),"verified"===g&&(e.is_verified=!0),"unverified"===g&&(e.is_verified=!1);let s=await f.Nq.getOrganizations(e);t(s.data.items),h(s.data.total)}catch(e){console.error("Failed to fetch organizations:",e)}finally{k(!1)}};(0,a.useEffect)(()=>{z()},[j,g]);let w=()=>{p(1),z()},C=async(e,t)=>{try{await f.Nq.verifyOrganization(e,{is_verified:t}),z()}catch(e){console.error("Failed to verify organization:",e),alert("처리에 실패했습니다")}},_=Math.ceil(s/20);return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"업체 관리"}),(0,i.jsxs)(c.C,{variant:"outline",children:[s,"개 업체"]})]}),(0,i.jsx)(n.Zb,{children:(0,i.jsx)(n.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex flex-1 gap-2",children:[(0,i.jsx)(r.I,{placeholder:"업체명 또는 사업자번호 검색",value:N,onChange:e=>v(e.target.value),onKeyDown:e=>"Enter"===e.key&&w(),className:"max-w-sm"}),(0,i.jsx)(l.z,{variant:"outline",onClick:w,children:(0,i.jsx)(d.Z,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(l.z,{variant:"all"===g?"default":"outline",size:"sm",onClick:()=>b("all"),children:"전체"}),(0,i.jsx)(l.z,{variant:"verified"===g?"default":"outline",size:"sm",onClick:()=>b("verified"),children:"인증됨"}),(0,i.jsx)(l.z,{variant:"unverified"===g?"default":"outline",size:"sm",onClick:()=>b("unverified"),children:"미인증"})]})]})})}),(0,i.jsx)(n.Zb,{children:(0,i.jsxs)(n.aY,{className:"p-0",children:[(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,i.jsx)("th",{className:"p-4 text-left font-medium",children:"업체명"}),(0,i.jsx)("th",{className:"p-4 text-left font-medium",children:"사업자번호"}),(0,i.jsx)("th",{className:"p-4 text-left font-medium",children:"대표자"}),(0,i.jsx)("th",{className:"p-4 text-left font-medium",children:"연락처"}),(0,i.jsx)("th",{className:"p-4 text-center font-medium",children:"상태"}),(0,i.jsx)("th",{className:"p-4 text-center font-medium",children:"가입일"}),(0,i.jsx)("th",{className:"p-4 text-center font-medium",children:"액션"})]})}),(0,i.jsx)("tbody",{children:y?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"로딩 중..."})}):0===e.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"업체가 없습니다"})}):e.map(e=>(0,i.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,i.jsx)("td",{className:"p-4 font-medium",children:e.name}),(0,i.jsx)("td",{className:"p-4 text-muted-foreground",children:e.business_number||"-"}),(0,i.jsx)("td",{className:"p-4",children:e.representative_name||"-"}),(0,i.jsx)("td",{className:"p-4 text-muted-foreground",children:e.contact_phone||"-"}),(0,i.jsx)("td",{className:"p-4 text-center",children:e.is_verified?(0,i.jsxs)(c.C,{className:"bg-green-100 text-green-700",children:[(0,i.jsx)(o.Z,{className:"mr-1 h-3 w-3"}),"인증됨"]}):(0,i.jsxs)(c.C,{variant:"outline",className:"text-yellow-600",children:[(0,i.jsx)(m,{className:"mr-1 h-3 w-3"}),"미인증"]})}),(0,i.jsx)("td",{className:"p-4 text-center text-muted-foreground",children:new Date(e.created_at).toLocaleDateString("ko-KR")}),(0,i.jsx)("td",{className:"p-4 text-center",children:e.is_verified?(0,i.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>C(e.id,!1),children:"인증 취소"}):(0,i.jsx)(l.z,{size:"sm",onClick:()=>C(e.id,!0),children:"인증하기"})})]},e.id))})]})}),_>1&&(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 border-t p-4",children:[(0,i.jsx)(l.z,{variant:"outline",size:"sm",disabled:1===j,onClick:()=>p(e=>e-1),children:(0,i.jsx)(u.Z,{className:"h-4 w-4"})}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[j," / ",_]}),(0,i.jsx)(l.z,{variant:"outline",size:"sm",disabled:j===_,onClick:()=>p(e=>e+1),children:(0,i.jsx)(x.Z,{className:"h-4 w-4"})})]})]})})]})}},3102:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var i=s(7437),a=s(2265),n=s(7440);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,i.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},2940:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(3480).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4817:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(3480).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[868,472,757,971,23,744],function(){return e(e.s=5905)}),_N_E=e.O()}]);