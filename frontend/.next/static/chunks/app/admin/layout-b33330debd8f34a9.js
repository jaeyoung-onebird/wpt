(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{2778:function(e,r,t){Promise.resolve().then(t.bind(t,5804))},5804:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var n=t(7437),s=t(2265),i=t(6463),a=t(7138),o=t(7140),u=t(4232),c=t(1240),l=t(5912),d=t(9896),h=t(495),f=t(7402);let m=[{href:"/admin",label:"대시보드",icon:o.Z},{href:"/admin/organizations",label:"업체 관리",icon:u.Z},{href:"/admin/users",label:"유저 관리",icon:c.Z},{href:"/admin/workers",label:"근무자 관리",icon:l.Z}];function g(e){let{children:r}=e,t=(0,i.useRouter)(),o=(0,i.usePathname)(),{user:u,isAuthenticated:c,isLoading:l,logout:g}=(0,f.t)();return((0,s.useEffect)(()=>{if(!l&&!c){t.push("/auth/login");return}!l&&u&&"admin"!==u.platform_role&&"super_admin"!==u.platform_role&&(alert("관리자 권한이 필요합니다"),t.push("/"))},[l,c,u,t]),l)?(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsx)("p",{className:"text-muted-foreground",children:"로딩 중..."})}):u&&("admin"===u.platform_role||"super_admin"===u.platform_role)?(0,n.jsxs)("div",{className:"flex min-h-screen",children:[(0,n.jsx)("aside",{className:"fixed left-0 top-0 z-40 h-screen w-64 border-r bg-background",children:(0,n.jsxs)("div",{className:"flex h-full flex-col",children:[(0,n.jsx)("div",{className:"border-b p-4",children:(0,n.jsxs)(a.default,{href:"/admin",className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:"W"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"font-bold",children:"WorkProof Chain"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Admin Panel"})]})]})}),(0,n.jsx)("nav",{className:"flex-1 space-y-1 p-4",children:m.map(e=>{let r=o===e.href||"/admin"!==e.href&&o.startsWith(e.href);return(0,n.jsxs)(a.default,{href:e.href,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors ".concat(r?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,n.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.href)})}),(0,n.jsxs)("div",{className:"border-t p-4",children:[(0,n.jsxs)("div",{className:"mb-2 text-sm",children:[(0,n.jsx)("p",{className:"font-medium",children:u.name}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"super_admin"===u.platform_role?"Super Admin":"Admin"})]}),(0,n.jsxs)(h.z,{variant:"ghost",size:"sm",className:"w-full justify-start text-muted-foreground",onClick:()=>{g(),t.push("/auth/login")},children:[(0,n.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"로그아웃"]})]})]})}),(0,n.jsx)("main",{className:"ml-64 flex-1 p-6",children:r})]}):null}},495:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var n=t(7437),s=t(2265),i=t(2974),a=t(3027),o=t(7440);let u=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:a,asChild:c=!1,...l}=e,d=c?i.g7:"button";return(0,n.jsx)(d,{className:(0,o.cn)(u({variant:s,size:a,className:t})),ref:r,...l})});c.displayName="Button"},7440:function(e,r,t){"use strict";t.d(r,{cn:function(){return i},mr:function(){return u},p6:function(){return o},xG:function(){return a}});var n=t(4839),s=t(6164);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}function a(e){return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e)}function o(e){return new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}function u(e){let[r,t]=e.split(":");return"".concat(r,":").concat(t)}},3480:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=(e,r)=>{let t=(0,n.forwardRef)((t,a)=>{let{color:o="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:d="",children:h,...f}=t;return(0,n.createElement)("svg",{ref:a,...s,width:u,height:u,stroke:o,strokeWidth:l?24*Number(c)/Number(u):c,className:["lucide","lucide-".concat(i(e)),d].join(" "),...f},[...r.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(h)?h:[h]])});return t.displayName="".concat(e),t}},5912:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(3480).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},4232:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(3480).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},7140:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(3480).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},9896:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(3480).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},1240:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(3480).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6463:function(e,r,t){"use strict";var n=t(1169);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},7402:function(e,r,t){"use strict";t.d(r,{t:function(){return i}});var n=t(9099),s=t(9291);let i=(0,n.Ue)()((0,s.tJ)(e=>({user:null,workerProfileId:null,orgMemberships:[],isAuthenticated:!1,isLoading:!0,setAuth:r=>{localStorage.setItem("access_token",r.tokens.access_token),localStorage.setItem("refresh_token",r.tokens.refresh_token),e({user:r.user,workerProfileId:r.worker_profile_id,orgMemberships:r.org_memberships,isAuthenticated:!0,isLoading:!1})},setUser:r=>{e({user:r,isLoading:!1})},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),e({user:null,workerProfileId:null,orgMemberships:[],isAuthenticated:!1,isLoading:!1})},setLoading:r=>{e({isLoading:r})}}),{name:"auth-storage",partialize:e=>({user:e.user,workerProfileId:e.workerProfileId,orgMemberships:e.orgMemberships,isAuthenticated:e.isAuthenticated})}))}},function(e){e.O(0,[868,231,301,971,23,744],function(){return e(e.s=2778)}),_N_E=e.O()}]);