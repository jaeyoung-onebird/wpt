(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{1330:function(e,t,r){Promise.resolve().then(r.bind(r,6679))},6679:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),o=r(2265),n=r(6013),i=r(1240),l=r(5912),s=r(4232),c=r(2940),d=r(3480);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,d.Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var u=r(3225);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),g=(0,d.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var m=r(6264);function f(){let[e,t]=(0,o.useState)(null),[r,d]=(0,o.useState)([]),[f,x]=(0,o.useState)(!0);if((0,o.useEffect)(()=>{(async()=>{try{let[e,r]=await Promise.all([m.Nq.getStats(),m.Nq.getDailyStats(7)]);t(e.data),d(r.data)}catch(e){console.error("Failed to fetch admin stats:",e)}finally{x(!1)}})()},[]),f)return(0,a.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"로딩 중..."})});let y=[{title:"총 유저",value:(null==e?void 0:e.total_users.toLocaleString())||"0",icon:i.Z,color:"text-blue-500",bgColor:"bg-blue-50"},{title:"총 근무자",value:(null==e?void 0:e.total_workers.toLocaleString())||"0",icon:l.Z,color:"text-green-500",bgColor:"bg-green-50"},{title:"총 업체",value:(null==e?void 0:e.total_organizations.toLocaleString())||"0",icon:s.Z,color:"text-purple-500",bgColor:"bg-purple-50"},{title:"인증 업체",value:(null==e?void 0:e.verified_organizations.toLocaleString())||"0",icon:c.Z,color:"text-emerald-500",bgColor:"bg-emerald-50"},{title:"총 이벤트",value:(null==e?void 0:e.total_events.toLocaleString())||"0",icon:p,color:"text-orange-500",bgColor:"bg-orange-50"},{title:"진행중 이벤트",value:(null==e?void 0:e.active_events.toLocaleString())||"0",icon:u.Z,color:"text-red-500",bgColor:"bg-red-50"},{title:"총 지원",value:(null==e?void 0:e.total_applications.toLocaleString())||"0",icon:h,color:"text-yellow-500",bgColor:"bg-yellow-50"},{title:"총 정산액",value:"".concat((((null==e?void 0:e.total_payroll_amount)||0)/1e6).toFixed(1),"M"),icon:g,color:"text-indigo-500",bgColor:"bg-indigo-50"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"플랫폼 대시보드"}),(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:y.map(e=>(0,a.jsx)(n.Zb,{children:(0,a.jsx)(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.title}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.value})]}),(0,a.jsx)("div",{className:"rounded-full p-3 ".concat(e.bgColor),children:(0,a.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.color)})})]})})},e.title))}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"최근 7일 통계"})}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"p-3 text-left font-medium",children:"날짜"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"신규 유저"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"신규 근무자"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"신규 업체"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"신규 이벤트"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"지원"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"완료"}),(0,a.jsx)("th",{className:"p-3 text-right font-medium",children:"정산액"})]})}),(0,a.jsx)("tbody",{children:r.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,a.jsx)("td",{className:"p-3",children:e.date}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.new_users}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.new_workers}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.new_orgs}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.new_events}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.new_applications}),(0,a.jsx)("td",{className:"p-3 text-right",children:e.completed_jobs}),(0,a.jsxs)("td",{className:"p-3 text-right",children:[e.total_paid.toLocaleString(),"원"]})]},e.date))})]})})})]})]})}},6013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return s}});var a=r(7437),o=r(2265),n=r(7440);let i=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...o})});i.displayName="Card";let l=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...o})});l.displayName="CardHeader";let s=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...o})});s.displayName="CardTitle";let c=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...o})});c.displayName="CardDescription";let d=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...o})});d.displayName="CardContent",o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...o})}).displayName="CardFooter"},6264:function(e,t,r){"use strict";r.d(t,{Nq:function(){return c},RX:function(){return s},XG:function(){return l},iJ:function(){return i}});var a=r(8472);let o="https://workproof.co.kr",n=a.Z.create({baseURL:o,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!r._retry){r._retry=!0;try{let e=localStorage.getItem("refresh_token");if(e){let{access_token:t,refresh_token:i}=(await a.Z.post("".concat(o,"/api/auth/refresh"),{refresh_token:e})).data;return localStorage.setItem("access_token",t),localStorage.setItem("refresh_token",i),r.headers.Authorization="Bearer ".concat(t),n(r)}}catch(e){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/auth/login"}}return Promise.reject(e)});let i={login:(e,t)=>n.post("/api/auth/login",{email:e,password:t}),signup:e=>n.post("/api/auth/signup",e),refresh:e=>n.post("/api/auth/refresh",{refresh_token:e}),me:()=>n.get("/api/auth/me"),logout:()=>n.post("/api/auth/logout")},l={getProfile:()=>n.get("/api/worker/profile"),updateProfile:e=>n.patch("/api/worker/profile",e),updatePrivate:e=>n.patch("/api/worker/profile/private",e),updatePreferences:e=>n.patch("/api/worker/preferences",e),getSchedule:e=>n.get("/api/worker/schedule",{params:e}),getApplications:e=>n.get("/api/worker/applications",{params:{status:e}}),apply:(e,t)=>n.post("/api/worker/apply",{position_id:e,note:t}),cancelApplication:e=>n.delete("/api/worker/applications/".concat(e)),searchEvents:e=>n.get("/api/worker/events",{params:e}),getPayroll:e=>n.get("/api/worker/payroll",{params:{year_month:e}}),getFollowing:()=>n.get("/api/worker/following"),followOrg:e=>n.post("/api/worker/follow",{org_id:e}),unfollowOrg:e=>n.delete("/api/worker/follow/".concat(e))},s={register:e=>n.post("/api/org/register",e),getMyOrgs:()=>n.get("/api/org/my"),getOrg:e=>n.get("/api/org/".concat(e)),updateOrg:(e,t)=>n.patch("/api/org/".concat(e),t),getMembers:e=>n.get("/api/org/".concat(e,"/members")),createInvite:e=>n.post("/api/org/".concat(e,"/invite")),getFollowers:(e,t)=>n.get("/api/org/".concat(e,"/followers"),{params:{page:t}}),followWorker:(e,t,r)=>n.post("/api/org/".concat(e,"/follow"),{worker_id:t,note:r}),unfollowWorker:(e,t)=>n.delete("/api/org/".concat(e,"/follow/").concat(t)),blockWorker:(e,t,r)=>n.post("/api/org/".concat(e,"/block"),{worker_id:t,reason:r}),getEvents:(e,t)=>n.get("/api/org/".concat(e,"/events"),{params:t}),createEvent:(e,t)=>n.post("/api/org/".concat(e,"/events"),t),getEventApplications:(e,t,r)=>n.get("/api/org/".concat(e,"/events/").concat(t,"/applications"),{params:{status:r}}),reviewApplication:(e,t,r)=>n.patch("/api/org/".concat(e,"/applications/").concat(t),r)},c={getStats:()=>n.get("/api/admin/stats"),getDailyStats:e=>n.get("/api/admin/stats/daily",{params:{days:e}}),getOrganizations:e=>n.get("/api/admin/organizations",{params:e}),getOrganizationDetail:e=>n.get("/api/admin/organizations/".concat(e)),verifyOrganization:(e,t)=>n.patch("/api/admin/organizations/".concat(e,"/verify"),t),deleteOrganization:e=>n.delete("/api/admin/organizations/".concat(e)),getUsers:e=>n.get("/api/admin/users",{params:e}),updateUserRole:(e,t)=>n.patch("/api/admin/users/".concat(e,"/role"),t),updateUserStatus:(e,t)=>n.patch("/api/admin/users/".concat(e,"/status"),t),getWorkers:e=>n.get("/api/admin/workers",{params:e}),updateTrustScore:(e,t)=>n.patch("/api/admin/workers/".concat(e,"/trust-score"),t)}},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},mr:function(){return s},p6:function(){return l},xG:function(){return i}});var a=r(4839),o=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,a.W)(t))}function i(e){return new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e)}function l(e){return new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}function s(e){let[t,r]=e.split(":");return"".concat(t,":").concat(r)}},3480:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(2265),o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{color:l="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:p="",children:u,...h}=r;return(0,a.createElement)("svg",{ref:i,...o,width:s,height:s,stroke:l,strokeWidth:d?24*Number(c)/Number(s):c,className:["lucide","lucide-".concat(n(e)),p].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])});return r.displayName="".concat(e),r}},5912:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},4232:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},2940:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3225:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1240:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[868,472,971,23,744],function(){return e(e.s=1330)}),_N_E=e.O()}]);